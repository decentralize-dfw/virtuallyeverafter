<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Virtually Ever After Presentation</title>
    <style>
        /* --- TEMEL STİLLER --- */
        * { margin: 0; padding: 0; box-sizing: border-box; font-family: "Helvetica", monospace; }
        body { background-color: transparent; overflow: hidden; color: #000; margin: 0; padding: 0; }
        .container { display: flex; flex-direction: column; width: 100%; height: 100vh; margin: 0 auto; position: relative; overflow: hidden; }

        /* --- MENÜ KISMI --- */
        .top-section {
            height: auto;
            width: auto;
            display: flex;
            flex-direction: column;
            padding: 15px 0;
            background-color: transparent;
            z-index: 10;
            position: absolute;
            top: -5px;
            left: auto;
            right: 15px;
            gap: 10px;
        }

        .top-controls {
            display: flex;
            flex-direction: column;
            align-items: flex-start;
            width: auto;
            gap: 10px;
            max-width: 95vw; 
        }

        .menu-btn-container {
            z-index: 6;
            height: auto;
            display: flex;
            flex-wrap: wrap; 
            justify-content: flex-end;
            gap: 5px;
            width: auto;
            padding: 0;
        }

        /* Başlangıçta gizli olsun, JS ile açacağız */
        .fullscreen-row { display: none; width: auto; padding: 0; margin-top: 0px; justify-content: flex-end; }
        .fullscreen-container { z-index: 6; width: auto; }

        /* --- BUTON STİLLERİ --- */
        .menu-btn, .fullscreen-btn {
            padding: 5px 10px;
            border: 1px solid rgba(0, 0, 0, 0.2);
            border-radius: 4px;
            background-color: rgba(255, 255, 255, 0.1);
            cursor: pointer;
            font-size: 9px;
            transition: all 0.2s;
            color: #000;
            line-height: 1.2;
            flex: none;
            width: auto;
            white-space: nowrap;
            outline: none;
            letter-spacing: -0.5px;
            min-width: 25px;
            text-align: center;
        }

        .menu-btn {
            height: auto;
            min-height: 24px;
            display: flex;
            align-items: center;
            justify-content: center;
        }

        .fullscreen-btn { font-weight: bolder; background-color: rgba(240, 240, 240, 0.9); width: auto; min-width: 80px; }
        .menu-btn:hover, .fullscreen-btn:hover { background-color: gray; color: white; }
        .menu-btn.active { background-color: rgba(0, 0, 0, 1); color: white; }

        /* --- VIEWER KISMI --- */
        .viewer-container { position: fixed; top: 0; left: 0; width: 100vw; height: 100vh; overflow: hidden; z-index: 1; background: white; }
        #htmlViewer, #linkViewer { width: 100%; height: 100vh; border: none; position: absolute; top: 0; left: 0; background: white; display: none; }
        
       #imageViewer {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); /* Tam ortalama */
            
            /* Scaled to HEIGHT full */
            height: 80vh; 
            width: 80vh;    /* Genişlik orantılı kalsın */
            
            display: none;
            object-fit: contain; /* Kesme yapmaz */
        }

       #videoViewer {
            position: absolute;
            top: 50%;
            left: 50%;
            transform: translate(-50%, -50%); /* Tam ortalama */
            
            /* Scaled to HEIGHT full */
            height: 80vh; 
            width: 80vh;   /* Genişlik orantılı kalsın */
            
            display: none;
            object-fit: contain; /* Kesme yapmaz */
        }

        /* FULLSCREEN MODLARI */
        .container.fullscreen-mode { height: 100vh !important; width: 100vw !important; }
        .fullscreen-mode .top-section { display: none !important; }
        .fullscreen-mode #htmlViewer, .fullscreen-mode #linkViewer { height: 100vh !important; }
    </style>
</head>
<body>
    <div class="container">
        <div class="top-section" id="top-section">
            <div class="top-controls">
                
                <div class="menu-btn-container">
                    <button class="menu-btn" id="btn-00">00</button>
                    
                    <button class="menu-btn" id="btn-3">3</button>

                    <button class="menu-btn" id="btn-2-3">2.3</button>
                     <button class="menu-btn" id="btn-2-2">2.2</button>
                    <button class="menu-btn" id="btn-2-1">2.1</button>
                    <button class="menu-btn" id="btn-2">2</button>

                    <button class="menu-btn" id="btn-1-4">1.4</button>
                    

                    <button class="menu-btn" id="btn-1-3">1.3</button>
                    <button class="menu-btn" id="btn-1-2">1.2</button>
                     <button class="menu-btn" id="btn-1-1">1.1</button>
                    <button class="menu-btn" id="btn-1">1</button>
                    <button class="menu-btn" id="btn-0">0</button>
                </div>

                <div class="fullscreen-row" id="fullscreen-row">
                    <div class="fullscreen-container">
                        <button class="fullscreen-btn" id="fullscreen-btn">Fullscreen</button>
                    </div>
                </div>

            </div>
        </div>

        <div class="viewer-container" id="viewer-container">
            <iframe id="htmlViewer" src="about:blank"></iframe>
            <img id="imageViewer" src="" alt="Work Image" />
            <iframe id="linkViewer" src="about:blank"></iframe>
            <video id="videoViewer" src="" controls autoplay loop muted playsinline></video>
        </div>
    </div>

    <script>
        let activeMode = '0';

        // --- KONFİGÜRASYON ---
        // Burada hasFullscreen: false yaptığınızda buton artık KESİN GİDECEK.
        const modeConfigs = {
            
            // YENİ EKLENEN KONFİGÜRASYON
            '00': { url: 'https://raw.githubusercontent.com/decentralize-dfw/virtuallyeverafter/refs/heads/main/93-00.html', type: 'html', hasFullscreen: false },

            '0': { url: 'https://raw.githubusercontent.com/decentralize-dfw/virtuallyeverafter/refs/heads/main/93-0.html', type: 'html', hasFullscreen: false },


            '1': { url: 'https://raw.githubusercontent.com/decentralize-dfw/virtuallyeverafter/refs/heads/main/1_0-v2.jpg', type: 'image', hasFullscreen: false },
            '1-1': { url: 'https://raw.githubusercontent.com/decentralize-dfw/virtuallyeverafter/refs/heads/main/93-1-1.html', type: 'html', hasFullscreen: false },
            '1-2': { url: 'https://raw.githubusercontent.com/decentralize-dfw/virtuallyeverafter/refs/heads/main/93-1-2.html', type: 'html', hasFullscreen: false },
            '1-3': { url: 'https://raw.githubusercontent.com/decentralize-dfw/virtuallyeverafter/refs/heads/main/93-1-3.html', type: 'html', hasFullscreen: false },
            '1-4': { url: 'https://raw.githubusercontent.com/decentralize-dfw/virtuallyeverafter/refs/heads/main/93-1-4.html', type: 'html', hasFullscreen: false },

            '2': { url: 'https://raw.githubusercontent.com/decentralize-dfw/virtuallyeverafter/refs/heads/main/93-2.html', type: 'html', hasFullscreen: false },
            '2-1': { url: 'https://raw.githubusercontent.com/decentralize-dfw/virtuallyeverafter/refs/heads/main/93-2-1.html', type: 'html', hasFullscreen: false },
            '2-2': { url: 'https://raw.githubusercontent.com/decentralize-dfw/virtuallyeverafter/refs/heads/main/93-2-2.html', type: 'html', hasFullscreen: false },
            '2-3': { url: 'https://raw.githubusercontent.com/decentralize-dfw/virtuallyeverafter/refs/heads/main/93-2-3.html', type: 'html', hasFullscreen: false },

            '3': { url: 'https://raw.githubusercontent.com/decentralize-dfw/virtuallyeverafter/refs/heads/main/93-3.html', type: 'html', hasFullscreen: false },
        };

        const dom = {
            viewer: {
                html: document.getElementById('htmlViewer'),
                link: document.getElementById('linkViewer'),
                image: document.getElementById('imageViewer'),
                video: document.getElementById('videoViewer')
            }
        };

        function initApp() {
            setupEventListeners();
            
            if (modeConfigs[activeMode]) {
                const config = modeConfigs[activeMode];
                loadContent(config.url, config.type);
            }
            updateMenuButtons();
        }

        function setupEventListeners() {
            Object.keys(modeConfigs).forEach(key => {
                const btnId = `btn-${key}`;
                const btnElement = document.getElementById(btnId);
                if (btnElement) {
                    btnElement.addEventListener('click', () => showMode(key));
                }
            });

            document.getElementById('fullscreen-btn').addEventListener('click', toggleFullscreen);

            document.addEventListener('keydown', e => {
                if (e.key === 'Escape' && document.fullscreenElement) {
                    document.exitFullscreen();
                }
            });

            document.addEventListener('fullscreenchange', () => {
                const container = document.querySelector('.container');
                if (document.fullscreenElement) {
                    container.classList.add('fullscreen-mode');
                } else {
                    container.classList.remove('fullscreen-mode');
                }
            });
        }

        function showMode(mode) {
            if (activeMode === mode) return;
            activeMode = mode;
            updateMenuButtons();
            
            const config = modeConfigs[mode];
            if (config) {
                loadContent(config.url, config.type);
            }
        }

        function toggleFullscreen() {
            const container = document.querySelector('.container');
            if (!document.fullscreenElement) {
                document.documentElement.requestFullscreen()
                    .then(() => { container.classList.add('fullscreen-mode'); })
                    .catch(err => console.error('Fullscreen error:', err));
            } else {
                document.exitFullscreen()
                    .then(() => { container.classList.remove('fullscreen-mode'); })
                    .catch(err => console.error('Exit fullscreen error:', err));
            }
        }

        function loadContent(url, type) {
            // --- DÜZELTİLEN KISIM BURASI ---
            // Aktif modun config dosyasını çekiyoruz
            const config = modeConfigs[activeMode];
            
            // Fullscreen butonunu göster veya gizle
            const fullscreenRow = document.getElementById('fullscreen-row');
            if (config && config.hasFullscreen) {
                fullscreenRow.style.display = 'flex';
            } else {
                fullscreenRow.style.display = 'none';
            }
            // -------------------------------

            // Temizlik
            dom.viewer.html.style.display = 'none';
            dom.viewer.link.style.display = 'none';
            dom.viewer.image.style.display = 'none';
            dom.viewer.video.style.display = 'none';
            
            dom.viewer.html.src = 'about:blank';
            dom.viewer.image.src = '';
            dom.viewer.video.pause();

            if (type === 'html') {
                fetch(url)
                    .then(response => {
                        if (response.ok) return response.text();
                        return `<div style="display:flex;height:100vh;align-items:center;justify-content:center;color:red;font-family:sans-serif;">
                                    <b>ERROR!</b>&nbsp; "${url}" IS SLEEPING WITH FISHES.
                                </div>`;
                    })
                    .then(html => {
                        dom.viewer.html.srcdoc = html;
                        dom.viewer.html.style.display = 'block';
                    })
                    .catch(err => console.error(err));
            } else if (type === 'image') {
                dom.viewer.image.src = url;
                dom.viewer.image.style.display = 'block';
            }
        }

        function updateMenuButtons() {
            document.querySelectorAll('.menu-btn').forEach(btn => {
                btn.classList.remove('active');
                if (btn.id === `btn-${activeMode}`) {
                    btn.classList.add('active');
                }
            });
        }

        document.addEventListener('DOMContentLoaded', initApp);
    </script>
</body>
</html>
